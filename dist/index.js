"use strict";
function link_search() {
    for (let g of document.body.getElementsByClassName('g')) {
        for (let a of g.getElementsByTagName('a')) {
            try {
                var l = a.getAttribute('href');
                if (l == null) {
                    continue;
                }
                if (l.startsWith('/')) {
                    l = 'https://www.google.com' + l;
                }
                else if (l.startsWith('http') && !l.startsWith('https://www.google.com')) {
                    continue;
                }
                var u = new URL(l);
                if (u.searchParams.has('url')) {
                    let srclink = (u.searchParams.get('url'));
                    if (srclink != null) {
                        a.setAttribute('href', srclink);
                    }
                }
            }
            catch (e) {
                console.log(e);
            }
        }
    }
}
function link_reg() {
    (new MutationObserver(link_search)).observe(document, {
        childList: true,
        subtree: true,
        attributes: true,
    });
}
link_reg();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsU0FBUyxXQUFXO0lBQ2hCLEtBQUssSUFBSSxDQUFDLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNyRCxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUN2QyxJQUFJO2dCQUNBLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRTtvQkFBRSxTQUFTO2lCQUFFO2dCQUU1QixJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7b0JBQ25CLENBQUMsR0FBRyx3QkFBd0IsR0FBRyxDQUFDLENBQUM7aUJBQ3BDO3FCQUFNLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsd0JBQXdCLENBQUMsRUFBRTtvQkFDeEUsU0FBUztpQkFDWjtnQkFFRCxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbkIsSUFBSSxDQUFDLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDM0IsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUMxQyxJQUFJLE9BQU8sSUFBSSxJQUFJLEVBQUU7d0JBQ2hCLENBQWlCLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztxQkFDcEQ7aUJBQ0o7YUFDSjtZQUNELE9BQU8sQ0FBQyxFQUFFO2dCQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDbEI7U0FDSjtLQUNKO0FBQ0wsQ0FBQztBQUVELFNBQVMsUUFBUTtJQUNiLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUU7UUFDbEQsU0FBUyxFQUFFLElBQUk7UUFDZixPQUFPLEVBQUUsSUFBSTtRQUNiLFVBQVUsRUFBRSxJQUFJO0tBQ25CLENBQUMsQ0FBQztBQUNQLENBQUM7QUFFRCxRQUFRLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGxpbmtfc2VhcmNoKCkge1xuICAgIGZvciAobGV0IGcgb2YgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnJykpIHtcbiAgICAgICAgZm9yIChsZXQgYSBvZiBnLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJykpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGwgPSBhLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgICAgICAgICAgICAgIGlmIChsID09IG51bGwpIHsgY29udGludWU7IH1cblxuICAgICAgICAgICAgICAgIGlmIChsLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgICAgICBsID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20nICsgbDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGwuc3RhcnRzV2l0aCgnaHR0cCcpICYmICFsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20nKSkgeyBcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHUgPSBuZXcgVVJMKGwpO1xuICAgICAgICAgICAgICAgIGlmICh1LnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcmNsaW5rID0gKHUuc2VhcmNoUGFyYW1zLmdldCgndXJsJykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3JjbGluayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoYSBhcyBIVE1MRWxlbWVudCkuc2V0QXR0cmlidXRlKCdocmVmJywgc3JjbGluayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkgeyBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbGlua19yZWcoKSB7XG4gICAgKG5ldyBNdXRhdGlvbk9ic2VydmVyKGxpbmtfc2VhcmNoKSkub2JzZXJ2ZShkb2N1bWVudCwge1xuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgfSk7XG59XG5cbmxpbmtfcmVnKCk7XG5cblxuXG5cblxuXG5cblxuXG4iXX0=